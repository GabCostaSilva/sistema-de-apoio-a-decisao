# Use postgres/example user/password credentials
version: '3.1'

services:
  db:
    image: postgres
    restart: always
    volumes:
        - ./csvs:/data
        - ./database/criacaoDoBanco.sql:/docker-entrypoint-initdb.d/criacaoDoBanco.sql
        - ./database/criacaoDasTabelasDeDimensao.sql:/docker-entrypoint-initdb.d/criacaoDasTabelasDeDimensao.sql
        - ./database/popularTabelas.sql:/docker-entrypoint-initdb.d/popularTabelas.sql
        - ./database/popularIndicadoresComercio.sql:/docker-entrypoint-initdb.d/popularIndicadoresComercio.sql
        - ./database/popularPagamentosAuxilioEmergencial.sql:/docker-entrypoint-initdb.d/popularPagamentosAuxilioEmergencial.sql
    environment:
      POSTGRES_PASSWORD: example
    ports: 
        - 5433:5432
